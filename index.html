<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Financials</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
            color: #333;
        }

        h1 {
            text-align: center;
            color: #007BFF;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        th,
        td {
            padding: 15px;
            border: 1px solid #ddd;
            text-align: center;
        }

        th {
            background-color: #007BFF;
            color: #fff;
        }

        tr:nth-child(even) {
            background-color: #f9f9f9;
        }

        td:nth-child(5),
        td:nth-child(6) {
            font-weight: bold;
            color: #28a745;
        }
    </style>

</head>

<body>

    <h1>Financials </h1>

    <table border="1">
        <tr>
            <th>Timeframe</th>
            <th>Income</th>
            <th>Expense</th>
            <th>Surplus</th>
            <th>Yearly</th>
            <th>Compounded (12%)</th>
        </tr>
        <tr>
            <td>Daily</td>
            <td contenteditable="true" id="daily-income" oninput="calculate()"></td>
            <td contenteditable="true" id="daily-expense" oninput="calculate()"></td>
            <td id="daily-surplus">0</td>
            <td id="daily-yearly">₹ 0</td>
            <td id="daily-compounded">₹ 0.00</td>
        </tr>
        <tr>
            <td>Weekly</td>
            <td contenteditable="true" id="weekly-income" oninput="calculate()"></td>
            <td contenteditable="true" id="weekly-expense" oninput="calculate()"></td>
            <td id="weekly-surplus">0</td>
            <td id="weekly-yearly">₹ 0</td>
            <td id="weekly-compounded">₹ 0.00</td>
        </tr>
        <tr>
            <td>Monthly</td>
            <td contenteditable="true" id="monthly-income" oninput="calculate()"></td>
            <td contenteditable="true" id="monthly-expense" oninput="calculate()"></td>
            <td id="monthly-surplus">0</td>
            <td id="monthly-yearly">₹ 0</td>
            <td id="monthly-compounded">₹ 0.00</td>
        </tr>
        <tr>
            <td>Yearly</td>
            <td contenteditable="true" id="yearly-income" oninput="calculate()"></td>
            <td contenteditable="true" id="yearly-expense" oninput="calculate()"></td>
            <td id="yearly-surplus">0</td>
            <td id="yearly-yearly">₹ 0</td>
            <td id="yearly-compounded">₹ 0.00</td>
        </tr>
        <tr>
            <td>Total</td>
            <td id="total-income"></td>
            <td id="total-expense"></td>
            <td id="total-surplus"></td>
            <td id="total-yearly">₹ 0</td>
            <td id="total-compounded">₹ 0.00</td>
        </tr>
    </table>

    <script>
        function calculate() {
            // Calculate and update table cells for Daily
            const dailyIncome = parseFloat(document.getElementById("daily-income").innerText) || 0;
            const dailyExpense = parseFloat(document.getElementById("daily-expense").innerText) || 0;
            document.getElementById("daily-surplus").textContent = dailyIncome - dailyExpense;
            document.getElementById("daily-yearly").textContent = "₹ " + (dailyIncome - dailyExpense) * 365;
            document.getElementById("daily-compounded").textContent = "₹ " + compound((dailyIncome - dailyExpense),365 ).toFixed(2);

            // Repeat similar calculations for Weekly, Monthly, Yearly, and Total
            const weeklyIncome = parseFloat(document.getElementById("weekly-income").innerText) || 0;
            const weeklyExpense = parseFloat(document.getElementById("weekly-expense").innerText) || 0;
            document.getElementById("weekly-surplus").textContent = weeklyIncome - weeklyExpense;
            document.getElementById("weekly-yearly").textContent = "₹ " + (weeklyIncome - weeklyExpense) * 52;
            document.getElementById("weekly-compounded").textContent = "₹ " + compound((weeklyIncome - weeklyExpense),52).toFixed(2);

            const monthlyIncome = parseFloat(document.getElementById("monthly-income").innerText) || 0;
            const monthlyExpense = parseFloat(document.getElementById("monthly-expense").innerText) || 0;
            document.getElementById("monthly-surplus").textContent = monthlyIncome - monthlyExpense;
            document.getElementById("monthly-yearly").textContent = "₹ " + (monthlyIncome - monthlyExpense) * 12;
            document.getElementById("monthly-compounded").textContent = "₹ " + compound((monthlyIncome - monthlyExpense),12 ).toFixed(2);

            const yearlyIncome = parseFloat(document.getElementById("yearly-income").innerText) || 0;
            const yearlyExpense = parseFloat(document.getElementById("yearly-expense").innerText) || 0;
            document.getElementById("yearly-surplus").textContent = yearlyIncome - yearlyExpense;
            document.getElementById("yearly-yearly").textContent = "₹ " + (yearlyIncome - yearlyExpense);
            document.getElementById("yearly-compounded").textContent = "₹ " + compound((yearlyIncome - yearlyExpense),1).toFixed(2);

            // Calculate and update Total row
            const totalYearly = (dailyIncome - dailyExpense) * 365 + (weeklyIncome - weeklyExpense) * 52 +
                (monthlyIncome - monthlyExpense) * 12 + (yearlyIncome - yearlyExpense);
            
            document.getElementById("total-yearly").textContent = "₹ " + totalYearly;
            
            // Calculate and update Total Compounded row
            const totalCompounded = compound((dailyIncome - dailyExpense) , 365) +
                compound((weeklyIncome - weeklyExpense) , 52) + compound((monthlyIncome - monthlyExpense) , 12) +
                compound((yearlyIncome - yearlyExpense),1);
            document.getElementById("total-compounded").textContent = "₹ " + totalCompounded.toFixed(2);
        }

        function compound(principal,time) {
            return principal*(Math.pow((1+0.000328767),(1*time))-1)/(0.000328767);
        }
    </script>

</body>

</html>
